(function(a){a.fn.vpcf=function(b){var c=this;var d=a.extend({number_of_keys:35,key_width:30,key_height:130,chord_color:"#bbd9e4",scale_color:"#fbce80"},b);return this.each(function(){function w(b){a(".vpcf_black_key").css("background-color","#000000");a(".vpcf_white_key").css("background-color","#FFFFFF");var c=0;a(".vpcf_notes").text("");a.each(b,function(b,d){r=parseInt(d)+s+c;a("#vpcf_key_"+r).css("background-color",e);c=parseInt(d)+c;a("#vpcf_scales h3 .vpcf_notes").append(p[c-1]+" ")})}function x(c){a(".vpcf_black_key").css("background-color","#000000");a(".vpcf_white_key").css("background-color","#FFFFFF");a(".vpcf_notes").text("");a.each(c,function(c,d){r=parseInt(d)+s;a("#vpcf_key_"+r).css("background-color",b);a("#vpcf_chords h3 .vpcf_notes").append(p[parseInt(d)-1]+" ")})}var b=d.chord_color;var e=d.scale_color;var f=d.number_of_keys;var g=d.key_width;var h=d.key_height;var i=new Array(1,3,6,8,10,13,15,18,20,22,25,27,30,32,34,37,39,42,44,46,49,51,54,56,58,61,63,66,68,70,73,75,78,80,82);var j=parseInt(g/4);var k=parseInt(g/2);var l=parseInt(h/1.65);var m=0;var n=0;var o=0;var p=new Array("C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B","C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B","C","C#","D");var q="";var r=0;if(isNaN(f)){f=35}else if(f>83){f=83}else if(f<35){f=35}else{}var s=Math.round(f/12);s=Math.round(s/2)*12-13;if(a.inArray(f,i)!=-1){f=f+1}a(c).append('<div id="vpcf_container"></div>');a(c).append('<div id="vpcf_controls"></div>');for(key=0;key<=f;key++){if(a.inArray(key,i)!=-1){m=g*n-j;a("#vpcf_container").append('<div class="vpcf_black_key" id="vpcf_key_'+key+'" style="margin-left:'+m+"px;width:"+k+"px;height:"+l+'px;"></div>')}else{a("#vpcf_container").append('<div class="vpcf_white_key" id="vpcf_key_'+key+'" style="margin-left:'+o+"px;width:"+g+"px;height:"+h+'px"></div>');o=o+g;n++}}var t=2;var u=n*g+t;var v=h+t;a("#vpcf_container").width(u);a("#vpcf_container").height(v);a("#vpcf_controls").append('<div id="vpcf_root_controls"><ul><li id="vpcf_root_1">C<sup> </sup></li><li id="vpcf_root_2">C<sup>#</sup> / D<sup>b</sup></li><li id="vpcf_root_3">D<sup> </sup></li><li id="vpcf_root_4">D<sup>#</sup> / E<sup>b</sup></li><li id="vpcf_root_5">E<sup> </sup></li><li id="vpcf_root_6">F / E<sup>#</sup></li><li id="vpcf_root_7">F<sup>#</sup> / G<sup>b</sup></li><li id="vpcf_root_8">G<sup> </sup></li><li id="vpcf_root_9">G<sup>#</sup> / A<sup>b</sup></li><li id="vpcf_root_10">A<sup> </sup></li><li id="vpcf_root_11">A<sup>#</sup> / B<sup>b</sup></li><li id="vpcf_root_12">B / C<sup>b</sup> </li></ul></div><div class="vpcf_clear"></div>');a("#vpcf_controls").append('<div id="vpcf_chords"><h3 class="vpcf_title">Chords<span class="vpcf_error">Choose the Root Note Above</span><span class="vpcf_notes"></span></h3><div><ul><li><span>5,8</span>Major</li><li><span>4,8</span>Minor</li><li><span>8</span>5</li><li><span>5,8,11</span>Dominant 7th</li><li><span>5,8,12</span>Major 7th</li><li><span>4,8,11</span>Minor 7th</li><li><span>4,8,12</span>Minor Major 7th</li><li><span>6,8</span>Sus 4</li><li><span>3,8</span>Sus 2</li><li><span>5,8,10</span>6</li><li><span>4,8,10</span>Minor 6</li><li><span>5,8,11,15</span>9</li><li><span>4,8,11,15</span>Minor 9</li><li><span>5,8,12,15</span>Major 9</li><li><span>3,4,8,12,15</span>Minor Major 9</li><li><span>3,5,6,8,11</span>11</li><li><span>3,4,6,8,11</span>Minor 11</li><li><span>3,5,6,8,12</span>Major 11</li><li><span>3,4,6,8,12</span>Minor Major 11</li><li><span>3,5,8,10,11</span>13</li><li><span>3,4,8,10,11</span>Minor 13</li><li><span>3,5,8,10,12</span>Major 13</li><li><span>3,4,8,10,12</span>Minor Major 13</li><li><span>5,8,15</span>add 9</li><li><span>4,8,15</span>Minor add 9</li><li><span>5,8,10,15</span>6 add 9</li><li><span>4,8,10,15</span>Minor 6 add 9</li><li><span>5,6,8,11</span>Dominant 7th add 11</li><li><span>5,6,8,12</span>Major 7th add 11</li><li><span>4,6,8,11</span>Minor 7th add 11</li><li><span>4,8,12,6</span>Minor Major 7th add 11</li><li><span>5,8,11,10</span>Dominant 7th add 13</li><li><span>5,8,12,10</span>Major 7th add 13</li><li><span>4,8,11,10</span>Minor 7th add 13</li><li><span>4,8,10,12</span>Minor Major 7th add 13</li><li><span>5,7,11</span>7b5</li><li><span>5,9,11</span>7#5</li><li><span>2,5,8,11</span>7b9</li><li><span>4,5,8,11</span>7#9</li><li><span>2,5,9,11</span>7#5b9</li><li><span>4,7,11</span>m7b5</li><li><span>4,9,11</span>m7#5</li><li><span>2,4,8,11</span>m7b9</li><li><span>3,5,7,8,11</span>9#11</li><li><span>3,5,8,9,11</span>9b13</li><li><span>6,8,10</span>6sus4</li><li><span>6,8,11</span>7sus4</li><li><span>6,8,12</span>Major 7th Sus4</li><li><span>3,6,8,11</span>9sus4</li><li><span>3,6,8,12</span>Major 9 Sus4</li></ul></div></div>');a("#vpcf_controls").append('<div id="vpcf_scales"><h3 class="vpcf_title">Scales<span class="vpcf_error">Choose the Root Note Above</span><span class="vpcf_notes"></span></h3><div><ul><li><span>2,2,1,2,2,2,1</span>Major</li><li><span>2,1,2,2,2,2,1</span>Minor</li><li><span>2,1,2,2,1,3,1</span>Harmonic Minor</li><li><span>2,1,2,2,2,2,1</span>Melodic Minor</li><li><span>2,3,2,2,3</span>Pentatonic Major</li><li><span>3,2,2,3,2</span>Pentatonic Minor</li><li><span>3,2,1,1,3</span>Pentatonic Blues</li><li><span>2,3,2,3</span>Pentatonic Neutral</li><li><span>2,2,1,2,2,2,1</span>Ionian</li><li><span>3,2,1,2,2,1,2,2</span>Aeolian</li><li><span>2,1,2,2,2,1,2</span>Dorian</li><li><span>2,2,1,2,2,1,2</span>Mixolydian</li><li><span>1,2,2,2,1,2,2</span>Phrygian</li><li><span>2,2,2,1,2,2,1</span>Lydian</li><li><span>1,2,2,1,2,2,2</span>Locrian</li><li><span>1,2,1,2,1,2,1</span>Dim half</li><li><span>2,1,2,1,2,1,2</span>Dim whole</li><li><span>2,2,2,2,2</span>Whole</li><li><span>3,1,3,1,3</span>Augmented</li><li><span>1,1,1,1,1,1,1,1,1,1,1,1</span>Chromatic</li><li><span>2,1,3,1,2,1,2</span>Roumanian Minor</li><li><span>1,3,1,2,1,2,2</span>Spanish Gypsy</li><li><span>3,2,1,1,3,2</span>Blues</li><li><span>2,2,3,2,3</span>Diatonic</li><li><span>1,3,1,2,1,3,1</span>Double Harmonic</li><li><span>1,2,1,1,1,2,2,2</span>Eight Tone Spanish</li><li><span>1,3,2,2,2,1,1</span>Enigmatic</li><li><span>2,2,2,2,1,1</span>Leading Whole Tone</li><li><span>2,2,2,2,1,2,1</span>Lydian Augmented</li><li><span>1,2,2,2,2,2,1</span>Neoploitan Major</li><li><span>1,2,2,2,1,2,2</span>Neopolitan Minor</li><li><span>1,2,3,41</span>Pelog</li><li><span>2,2,2,3,1,2</span>Prometheus</li><li><span>1,3,2,3,1,2</span>Prometheus Neopolitan</li><li><span>1,3,1,3,1,3</span>Six Tone Symmetrical</li><li><span>1,2,1,2,2,2,2</span>Super Locrian</li><li><span>2,2,2,1,1,2,2</span>Lydian Minor</li><li><span>2,1,3,1,1,2,2</span>Lydian Diminished</li><li><span>2,1,1,2,1,1,1,2,1</span>Nine Tone Scale</li><li><span>2,1,2,1,2,1,2,1</span>Auxiliary Diminished</li><li><span>2,2,2,2,2,2</span>Auxiliary Augmented</li><li><span>1,2,1,2,1,2,1,2</span>Auxiliary Diminished Blues</li><li><span>2,2,1,1,2,2,2</span>Major Locrian</li><li><span>2,2,2,1,2,1,2</span>Overtone</li><li><span>1,2,1,2,2,2,2</span>Diminished Whole Tone</li><li><span>2,1,2,2,1,2,2</span>Pure Minor</li><li><span>2,3,2,2,1,2</span>Dominant 7th</li></ul></div></div>');a("#vpcf_root_controls ul").on("click","li",function(){a(".vpcf_error").hide();a("#vpcf_root_controls ul li").removeClass("active");a(this).addClass("active");q=a("#vpcf_root_controls ul li.active").attr("id");if(a("#vpcf_chords ul li").hasClass("active")){q=q.split("_")[2];var b=a("#vpcf_chords div ul li.active").children("span").text();b=b.split(",");var c=new Array;c[0]=parseInt(q);var d=1;a.each(b,function(a,b){c[d]=parseInt(q)+(parseInt(b)-1);d++});x(c)}if(a("#vpcf_scales ul li").hasClass("active")){q=q.split("_")[2];var e=a("#vpcf_scales div ul li.active").children("span").text();e=e.split(",");var f=new Array;f[0]=parseInt(q);var d=1;a.each(e,function(a,b){f[d]=parseInt(b);d++});w(f)}});a("#vpcf_chords div ul li").hover(function(){a(this).css("background-color",b)},function(){a(this).not(".active").css("background-color","#FFFFFF")});a("#vpcf_scales div ul li").hover(function(){a(this).css("background-color",e)},function(){a(this).not(".active").css("background-color","#FFFFFF")});a("#vpcf_chords div ul").on("click","li",function(){a("#vpcf_scales div ul li").removeClass("active");a("#vpcf_scales div ul li").css("background-color","#FFFFFF");a("#vpcf_scales h3.vpcf_title").css("text-shadow","none");a("#vpcf_chords div ul li").removeClass("active");a("#vpcf_chords div ul li").css("background-color","#FFFFFF");a("#vpcf_chords h3.vpcf_title").css("text-shadow","0px 0px 4px "+b);a("#vpcf_chords h3 .vpcf_notes").css("text-shadow","none");a(this).addClass("active");a(this).css("background-color",b);q=a("#vpcf_root_controls ul li.active").attr("id");if(q==""||q===undefined){a("#vpcf_chords h3 span.vpcf_error").show().fadeOut(2e3)}else{q=q.split("_")[2];var c=a(this).children("span").text();c=c.split(",");var d=new Array;d[0]=parseInt(q);var e=1;a.each(c,function(a,b){d[e]=parseInt(q)+(parseInt(b)-1);e++});x(d)}});a("#vpcf_scales div ul").on("click","li",function(){a("#vpcf_chords div ul li").removeClass("active");a("#vpcf_chords div ul li").css("background-color","#FFFFFF");a("#vpcf_chords h3.vpcf_title").css("text-shadow","none");a("#vpcf_scales div ul li").removeClass("active");a("#vpcf_scales div ul li").css("background-color","#FFFFFF");a("#vpcf_scales h3.vpcf_title").css("text-shadow","0px 0px 4px "+e);a("#vpcf_scales h3 .vpcf_notes").css("text-shadow","none");a(this).addClass("active");a(this).css("background-color",e);q=a("#vpcf_root_controls ul li.active").attr("id");if(q==""||q===undefined){a("#vpcf_scales h3 span.vpcf_error").show().fadeOut(2500)}else{q=q.split("_")[2];var b=a(this).children("span").text();b=b.split(",");var c=new Array;c[0]=parseInt(q);var d=1;a.each(b,function(a,b){c[d]=parseInt(b);d++});w(c)}})})}})(jQuery)